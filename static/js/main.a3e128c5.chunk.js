(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{164:function(e,t,a){},166:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(56),r=a.n(c),o=a(61),i=(a(164),a(21)),s=a.n(i),u=a(76),l=a(7),b=a(18),d=(a(166),a(247)),j=a(249),h="http://localhost:3004/books",f=function(){return fetch(h).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},O=a(195),p=a(127),x=a(3),m=[{field:"id",headerName:"ID",width:90},{field:"title",headerName:"Title",width:150,editable:!1},{field:"author",headerName:"Author",width:150,editable:!1},{field:"ISBN",headerName:"ISBN",type:"number",width:160,editable:!1},{field:"category",headerName:"Category",description:"This column has a value getter and is not sortable.",sortable:!1,width:180,valueGetter:function(e){return e.row.category}}],y=function(e){var t=e.books,a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],o=c[1],i=t;return Object(x.jsxs)("div",{style:{height:400,width:"100%"},children:[Object(x.jsx)("h1",{children:"Tabble of my books"}),Object(x.jsx)(O.a,{variant:"outlined",onClick:function(){var e;console.log(r),e=+r,fetch("".concat(h,"/").concat(e),{method:"DELETE"})},children:"Remove a ithem"}),Object(x.jsx)(p.a,{rows:i,columns:m,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(e){o(e)},selectionModel:r})]})},g=a(17),v=a(196),k=a(112),w=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),i=o[0],d=o[1],j=Object(n.useState)(""),O=Object(l.a)(j,2),p=O[0],m=O[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),S=w[0],N=w[1],B=Object(n.useState)(0),C=Object(l.a)(B,2),I=C[0],T=C[1],E=Object(n.useState)(0),M=Object(l.a)(E,2),q=M[0],A=M[1],P=Object(b.f)(),D=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,a=t.map((function(e){return e.id})),n=+Math.max.apply(Math,Object(g.a)(a))+1,c(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"title":d(n);break;case"author":m(n);break;case"category":N(n);break;case"ISBN":T(+n);break;case"year":A(+n)}},J=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={id:a,title:i,author:p,category:S,ISBN:I,year:q},fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),P("/");case 3:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){D()}),[]),Object(x.jsxs)(v.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",onSubmit:J,children:[Object(x.jsx)("h1",{children:"Add a Book"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(k.a,{required:!0,id:"title",label:"Title",name:"title",value:i,onChange:G}),Object(x.jsx)(k.a,{required:!0,id:"author",label:"Author",name:"author",value:p,onChange:G}),Object(x.jsx)(k.a,{required:!0,id:"category",label:"Category",name:"category",value:S,onChange:G}),Object(x.jsx)(k.a,{required:!0,id:"ISBN",label:"ISBN",type:"number",name:"ISBN",onChange:G,InputLabelProps:{shrink:!0},helperText:"ISBN code must contain 13 numbers"}),Object(x.jsx)(k.a,{id:"year",label:"Year",name:"year",onChange:G})]}),Object(x.jsx)("button",{type:"submit",children:"Submite"})]})},S=a(251),N=a(250),B=function(){return Object(x.jsx)(S.a,{position:"static",children:Object(x.jsx)(j.a,{maxWidth:"xl",children:Object(x.jsx)(N.a,{disableGutters:!0,children:Object(x.jsxs)(v.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[Object(x.jsx)(O.a,{component:o.b,to:"/",sx:{my:2,color:"white",display:"block"},children:"Dashboard"}),Object(x.jsx)(O.a,{component:o.b,to:"/add",sx:{my:2,color:"white",display:"block"},children:"Add Book"})]})})})})},C=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){r()}),[a]);var r=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{}),Object(x.jsxs)(j.a,{maxWidth:"md",children:[Object(x.jsx)(B,{}),Object(x.jsxs)(b.c,{children:[Object(x.jsx)(b.a,{path:"/",element:Object(x.jsx)(y,{books:a,cangeBooks:function(e,t){e.filter((function(e){return e.id!==t})),c(e)}})}),Object(x.jsx)(b.a,{path:"add",element:Object(x.jsx)(w,{})})]})]})]})};r.a.render(Object(x.jsx)(o.a,{children:Object(x.jsx)(C,{})}),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.a3e128c5.chunk.js.map