(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{171:function(e,t,a){},173:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(58),c=a.n(n),o=a(63),i=(a(171),a(21)),s=a.n(i),u=a(82),b=a(7),j=a(18),l=(a(173),a(254)),d=a(256),h="https://my-json-server.typicode.com/Nadiyahr/db-json",O=function(){return fetch(h).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},f=a(202),x=a(133),p=a.n(x),m=a(134),y=a(3),v=[{field:"id",headerName:"ID",width:90},{field:"title",headerName:"Title",width:150,editable:!1},{field:"author",headerName:"Author",width:150,editable:!1},{field:"ISBN",headerName:"ISBN",width:160,editable:!1},{field:"category",headerName:"Category",description:"This column has a value getter and is not sortable.",sortable:!1,width:180,valueGetter:function(e){return e.row.category}}],g=function(e){var t=e.books,a=e.reload,n=Object(r.useState)([]),c=Object(b.a)(n,2),o=c[0],i=c[1],s=t;return Object(y.jsxs)("div",{style:{height:420,width:"100%"},children:[Object(y.jsx)("h1",{children:"Tabble of my books"}),Object(y.jsx)(f.a,{disabled:0===o.length,variant:"contained",startIcon:Object(y.jsx)(p.a,{}),onClick:function(){o.forEach((function(e){return t=+e,fetch("".concat(h,"/").concat(t),{method:"DELETE"});var t})),a()},children:"Remove Book"}),Object(y.jsx)(m.a,{rows:s,columns:v,pageSize:6,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:function(e){i(e)},selectionModel:o})]})},k=a(1),S=a(43),w=a(17),N=a(203),B=a(136),I=a.n(B),T=a(117),C=function(e){var t=e.reload,a=Object(r.useState)(0),n=Object(b.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(""),l=Object(b.a)(i,2),d=l[0],x=l[1],p=Object(r.useState)(""),m=Object(b.a)(p,2),v=m[0],g=m[1],B=Object(r.useState)(""),C=Object(b.a)(B,2),E=C[0],q=C[1],A=Object(r.useState)(""),D=Object(b.a)(A,2),M=D[0],P=D[1],F=Object(r.useState)(0),G=Object(b.a)(F,2),J=G[0],L=G[1],W=Object(r.useState)({title:"",author:"",category:"",ISBN:"",year:""}),Y=Object(b.a)(W,2),z=Y[0],R=Y[1],$=Object(j.f)(),H=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,a=t.map((function(e){return e.id})),r=+Math.max.apply(Math,Object(w.a)(a))+1,o(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e,t){switch(e){case"title":case"author":case"category":0===t.length?R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,"This field is required"))})):R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,""))}));break;case"ISBN":13===t.length||/^\d$/.test(t)?R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,""))})):R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,"ISBN must contain 13 numbers"))}));break;case"year":t&&4!==t.length&&+t>+(new Date).getFullYear()?R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,"Enter valid year"))})):R((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(k.a)({},e,""))}))}},Q=function(e){var t=e.target,a=t.name,r=t.value;switch(a){case"title":x(r),K(a,r);break;case"author":g(r),K(a,r);break;case"category":q(r),K(a,r);break;case"ISBN":P(r),K(a,r);break;case"year":L(+r),K(a,r)}},U=function(e){return Object.values(e).every((function(e){return""===e}))},V=function(){var e=Object(u.a)(s.a.mark((function e(a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!U(z)){e.next=8;break}if(r={id:c,title:d,author:v,category:E,ISBN:M,year:J},!Object.values(r).slice(5).every((function(e){return""!==e}))){e.next=8;break}return e.next=6,n=r,fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}));case 6:t(),$("/");case 8:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){H()}),[]),Object(y.jsxs)(N.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},autoComplete:"off",onSubmit:function(e){return V(e)},children:[Object(y.jsx)("h1",{children:"Add a Book"}),Object(y.jsxs)("div",{children:[Object(y.jsx)(T.a,{required:!0,id:"title",label:"Title",name:"title",value:d,onChange:Q,error:""!==z.title,helperText:z.title}),Object(y.jsx)(T.a,{required:!0,id:"author",label:"Author",name:"author",value:v,onChange:Q,error:""!==z.author,helperText:z.author}),Object(y.jsx)(T.a,{required:!0,id:"category",label:"Category",name:"category",value:E,onChange:Q,error:""!==z.category,helperText:z.category}),Object(y.jsx)(T.a,{required:!0,id:"ISBN",label:"ISBN",type:"text",name:"ISBN",onChange:Q,error:""!==z.ISBN,InputLabelProps:{shrink:!0},helperText:z.ISBN}),Object(y.jsx)(T.a,{id:"year",label:"Year",name:"year",onChange:Q,error:""!==z.year,helperText:z.year})]}),Object(y.jsx)(f.a,{type:"submit",disabled:!U(z),variant:"contained",startIcon:Object(y.jsx)(I.a,{}),children:"Add Book"})]})},E=a(258),q=a(257),A=function(){return Object(y.jsx)(E.a,{position:"static",children:Object(y.jsx)(d.a,{maxWidth:"xl",children:Object(y.jsx)(q.a,{disableGutters:!0,children:Object(y.jsxs)(N.a,{sx:{flexGrow:1,display:{xs:"flex",md:"flex"}},children:[Object(y.jsx)(f.a,{component:o.b,to:"/",sx:{my:2,color:"white",display:"block"},children:"Dashboard"}),Object(y.jsx)(f.a,{component:o.b,to:"/add",sx:{my:2,color:"white",display:"block"},children:"Add Book"})]})})})})},D=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{}),Object(y.jsxs)(d.a,{maxWidth:"md",children:[Object(y.jsx)(A,{}),Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{path:"/",element:Object(y.jsx)(g,{books:a,reload:c})}),Object(y.jsx)(j.a,{path:"add",element:Object(y.jsx)(C,{reload:c})})]})]})]})};c.a.render(Object(y.jsx)(o.a,{children:Object(y.jsx)(D,{})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.01045a3f.chunk.js.map